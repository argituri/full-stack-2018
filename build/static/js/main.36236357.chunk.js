(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{15:function(e,t,n){e.exports=n(41)},41:function(e,t,n){"use strict";n.r(t);var a=n(0),l=n.n(a),r=n(11),o=n.n(r),u=n(12),s=n(13),i=n(4),c=n(3),m=n(14),d=n(21),h="http://localhost:3001/api/persons",b=function(e){function t(e){var n;return Object(u.a)(this,t),console.log("Started!"),(n=Object(i.a)(this,Object(c.a)(t).call(this,e))).handleNameChange=function(e){console.log(e.target.value),n.setState({newName:e.target.value})},n.handleNumberChange=function(e){console.log(e.target.value),n.setState({newNumber:e.target.value})},n.addPerson=function(e){if(e.preventDefault(),n.state.newNumber&&n.state.newName)if(n.state.persons.filter(function(e){return e.name===n.state.newName&&e.number===n.state.newNumber}).length>0)alert("Person is already found in directory!");else{var t={name:n.state.newName,number:n.state.newNumber};n.updateDb(t),n.setState({newName:"",newNumber:""})}else alert("Invalid input!")},n.state={persons:[],newName:"",newNumber:""},(n=Object(i.a)(this,Object(c.a)(t).call(this,e))).handleNameChange=function(e){console.log(e.target.value),n.setState({newName:e.target.value})},n.handleNumberChange=function(e){console.log(e.target.value),n.setState({newNumber:e.target.value})},n.addPerson=function(e){if(e.preventDefault(),n.state.newNumber&&n.state.newName)if(n.state.persons.filter(function(e){return e.name===n.state.newName&&e.number===n.state.newNumber}).length>0)alert("Person is already found in directory!");else{var t={name:n.state.newName,number:n.state.newNumber};n.updateDb(t),n.setState({newName:"",newNumber:""})}else alert("Invalid input!")},d.get("http://localhost:3001/api/persons").then(function(e){console.log("promise fulfilled"),n.setState({persons:e.data,newName:"",newNumber:""})}),n}return Object(m.a)(t,e),Object(s.a)(t,[{key:"getDb",value:function(){var e=this;d.get("http://localhost:3001/api/persons").then(function(t){console.log("promise fulfilled"),e.setState({persons:t.data,newName:"",newNumber:""})})}},{key:"updateDb",value:function(e){var t=this;d.post(h,e).then(function(e){console.log("db update succ"),console.log(e),t.getDb()},function(e){console.log("db update err "+e),alert("db update failed!")})}},{key:"deleteFromDb",value:function(e){var t=this;console.log("Delete clicked! with "+e),window.confirm("Do you really want to delete this entry?")?d.delete(h+"/"+e).then(function(e){t.getDb()},function(e){alert("Database error, couldn't delete entry")}):console.log("Phew, no need to delete")}},{key:"render",value:function(){var e=this;return l.a.createElement("div",null,l.a.createElement("h2",null,"Puhelinluettelo"),l.a.createElement("form",{onSubmit:this.addPerson},l.a.createElement("div",null,"nimi: ",l.a.createElement("input",{value:this.state.newName,onChange:this.handleNameChange})),l.a.createElement("div",null,"numero : ",l.a.createElement("input",{value:this.state.newNumber,onChange:this.handleNumberChange})),l.a.createElement("div",null,l.a.createElement("button",{type:"submit"},"lis\xe4\xe4"))),l.a.createElement("h2",null,"Numerot"),l.a.createElement("ul",null,this.state.persons.map(function(t){return l.a.createElement("li",{key:t.id},t.name," : ",t.number," ",l.a.createElement("button",{onClick:function(){return e.deleteFromDb(t.id)}},"Poista"))})))}}]),t}(l.a.Component);o.a.render(l.a.createElement(b,null),document.getElementById("root"))}},[[15,1,2]]]);
//# sourceMappingURL=main.36236357.chunk.js.map