{"version":3,"sources":["App.js","index.js"],"names":["axios","require","url","App","props","_this","Object","classCallCheck","this","console","log","possibleConstructorReturn","getPrototypeOf","call","handleNameChange","event","target","value","setState","newName","handleNumberChange","newNumber","addPerson","preventDefault","state","persons","filter","person","name","number","length","alert","personObj","updateDb","get","then","response","data","_this2","obj","_this3","post","getDb","err","_this4","window","confirm","delete","_this5","react_default","a","createElement","onSubmit","onChange","type","map","key","id","onClick","deleteFromDb","React","Component","ReactDOM","render","src_App","document","getElementById"],"mappings":"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","file":"static/js/main.36236357.chunk.js","sourcesContent":["import React from 'react';\n//import telephoneDirectory from './tele.js';\n\nconst axios = require('axios');\n\nconst url = 'http://localhost:3001/api/persons'\n\n\nclass App extends React.Component {\n  constructor(props) {\n    console.log(\"Started!\")\n    super(props)\n    this.state = {\n        persons: [],\n        newName: '',\n        newNumber: ''\n    }\n    super(props)\n    axios.get('http://localhost:3001/api/persons').then(response => {\n    console.log(\"promise fulfilled\")\n    this.setState(\n      {\n        persons: response.data,\n        newName: '',\n        newNumber: ''\n      })\n    })\n    //const data = new telephoneDirectory();\n  }\n\n  getDb(){\n    axios.get('http://localhost:3001/api/persons').then(response => {\n    console.log(\"promise fulfilled\")\n    this.setState(\n      {\n        persons: response.data, \n        newName: '', \n        newNumber: ''\n      }\n      )\n    })\n  }\n\n  updateDb(obj){\n  axios.post(url, obj)\n    .then(response => {\n      console.log(\"db update succ\")\n        console.log(response)\n        this.getDb()\n    }, err => {\n      console.log(\"db update err \" + err)\n      alert(\"db update failed!\")\n    })\n  }\n\n\n\n  deleteFromDb(obj){\n  console.log(\"Delete clicked! with \" + obj)\n  if (window.confirm(\"Do you really want to delete this entry?\")) {\n    axios.delete(url+\"/\"+obj).then(\n      (response) => {\n        this.getDb()\n      },\n      (err) => {alert(\"Database error, couldn't delete entry\")}\n    )\n  } else {\n    console.log(\"Phew, no need to delete\")\n  }\n}\n\n  handleNameChange = (event) => {\n      console.log(event.target.value)\n      this.setState({newName: event.target.value})\n  }\n\n  handleNumberChange = (event) => {\n    console.log(event.target.value)\n    this.setState({newNumber: event.target.value})\n  }\n\n\n  addPerson = (event) => {\n        event.preventDefault()\n        if (!this.state.newNumber || !this.state.newName){\n          alert(\"Invalid input!\")\n        } else {\n            if (this.state.persons.filter((person) => (person.name === this.state.newName && person.number === this.state.newNumber)).length > 0){\n              alert(\"Person is already found in directory!\");\n          } else {\n             const personObj = {name: this.state.newName, number: this.state.newNumber}\n             this.updateDb(personObj);\n             this.setState({newName: '', newNumber: ''})\n          } \n        }\n\n  }\n\n    render() {\n      return (\n        <div>\n          <h2>Puhelinluettelo</h2>\n          <form onSubmit={this.addPerson}>\n            <div>\n              nimi: <input \n                value={this.state.newName} \n                onChange={this.handleNameChange}\n                />\n            </div>\n            <div>\n            numero : <input \n              value={this.state.newNumber}\n              onChange={this.handleNumberChange}\n            />\n            </div>\n            <div>\n              <button type=\"submit\"/* onClick={() => console.log(\"Button pressed!\")}*/>lisää</button>\n            </div>\n          </form>\n          <h2>Numerot</h2>\n          <ul>\n            {this.state.persons.map((person) => <li key={person.id}>{person.name} : {person.number} <button onClick={() => this.deleteFromDb(person.id)}>Poista</button></li>)}  \n          </ul>\n        </div>\n      )\n    }\n\n\n}\n\nexport default App","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}